{% load static %}
<style type="text/css">
	#unifications table thead * {
		border-color: #ccc;
		font-size: 12.8px;
		height: 35px;
		vertical-align: middle;
	}
	#unifications .spinner-grow{
		margin: 0 auto;
    	display: block;
	}
	#unifications .jobStatusIndicator{
		vertical-align: middle;
	}
	#unifications .jobStatusIndicator > span{
		display: block;
	    height: .9em;
	    width: .9em;
	    border-radius: 50%;
	    margin: 0 auto;
	}
	#unifications .jobStatusIndicator > span.Queued{
		background-color: var(--warning);
	}
	#unifications .jobStatusIndicator > span.Started{
		background-color: var(--primary);
	}
	#unifications .jobStatusIndicator > span.Running{
		background-color: var(--primary);
	}
	#unifications .jobStatusIndicator > span.Finished{
		background-color: var(--success);
	}
	#unifications .jobStatusIndicator > span.Aborted{
		background-color: var(--danger);
	}
	#unifications .jobStatusIndicator > span.Failed{
		background-color: var(--danger);
	}
</style>
<div id="unifications" class="box mb-3">
	<div class="box__header">
	  <h3 class="box__text--title">Machine learning job runs</h3>
	</div>
	<div class="box__content pt-3">
		<p>
			Machinme learning jobs analize the documents in search for possible unifications:
			a same entity that was annotated as distinct ones accross the documents.
		</p>
		<div class="my-2">
			<a class="btn btn-outline-primary" href="/disambiguator/project/{{ project_id }}" target="blank" role="button">
				Open the app to start jobs and see unification proposals
			</a>
		</div>
		<table id="job-history" class="mt-3 table table-bordered table-sm">
		  <thead style="background-color: #eee;">
		  	<tr>
		  		<th colspan="3" class="text-muted text-right">
		  			Updates automatically (last update: )
		  		</th>
		  	</tr>
		    <tr>
		      <th scope="col"></th>
		      <th scope="col">Status</th>
		      <th scope="col">Creation time</th>
		    </tr>
		  </thead>
		  <tbody>
		  	<tr>
		  		<td></td>
		  		<td>
		  			<div class="spinner-grow text-primary" role="status">
					  <span class="sr-only">Loading...</span>
					</div>
		  		</td>
		  		<td>
		  			<div class="spinner-grow text-primary" role="status">
					  <span class="sr-only">Loading...</span>
					</div>
		  		</td> 
		  	</tr>
		  </tbody>
		</table>
	</div>
	<div id="app-params" class="d-none">
		<span id="project_id">{{ project_id }}</span>
	</div>
	<script src="{% static 'disambiguator_ui/js/widget.js' %}" type="text/javascript"></script>
</div>